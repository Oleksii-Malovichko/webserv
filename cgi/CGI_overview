CGI = Common Gateway Interface

Summary of Process:
- Your server runs an external executable
- You pass request data via: environment variables & stdin
- The executable writes to stdout
- Your server reads stdout and turns it into an HTTP response

Steps of Process:
1. Prepare environment variables
2. Handle stdin
3. Execute the CGI program
4. Capture CGI output
5. Translate CGI output -> HTTP response


Theory Notes
- each time a new process needs to be launched for each request 
- cgi tester in 42 subject


Subject Rules
- Execution of CGI, based on file extension (for example .php). Here are some
specific remarks regarding CGIs:
∗ Do you wonder what a CGI is?
∗ Have a careful look at the environment variables involved in the web
server-CGI communication. The full request and arguments provided by
the client must be available to the CGI.
∗ Just remember that, for chunked requests, your server needs to un-chunk
them, the CGI will expect EOF as the end of the body.
∗ The same applies to the output of the CGI. If no content_length is
returned from the CGI, EOF will mark the end of the returned data.
∗ The CGI should be run in the correct directory for relative path file access.
∗ Your server should support at least one CGI (php-CGI, Python, and so
forth).


Eval Sheet
Check CGI
Pay attention to the following:
- The server is working fine using a CGI.
- The CGI should be run in the correct directory for relative path file access.
- With the help of the students you should check that everything is working properly. You have to test the CGI with the "GET" and "POST" methods.
- You need to test with files containing errors to see if the error handling works properly. You can use a script containing an infinite loop or an error; you are free to do whatever tests you want within the limits of acceptability that remain at your discretion. The group being evaluated should help you with this.
- The server should never crash and an error should be visible in case of a problem.


Webserv Entire Project
1. how to execute: ./webserv [configuration file] 


***********************************************************************************
Feb 16:
Stuff to do for now P:
1. subject: client must be able to upload files
2. add php files scripts
3. webserv config: how to autoindex ?

*Note: the envp parts from client is given to handleCGI and is being created in CgiHandler T.
T: epoll cgi. Then merge into main version. add my cgi functions


CHANGES MADE IN FOLDER 'ZPROJECT'
- shown in folder cgi/changes_zproject


TASKS broken down
1. - check if done in code and where:
    - if its an upload request: if request is a POST & "Content-Type" header contains "multiple/form-data"
    - parse the body to get file content: strip away the wrapper to get actual file content: wrapper uses a "boundary" string (found in Content-Type header) to mark where the file starts and ends 
    - write the file to disk: once i got raw file content and its filename, open a file & write it to the configured upload        directory
    - send back a response: "201 Created"

- summary: the client (rbwoser/curl) sends a POST reuqest with a file attached. 
    Server needs to receive that file and save it somewhere on disk.
- open file and write extracted bytes into it. file will be sitting in ./uploads directory on the machine running the server
- testing: curl -v -X POST http://localhost:8080/upload -F "file=@test_uploadfile.txt"

